# Configuração do Staticman
comments:
  # CORREÇÃO 1: Adicionado o campo 'parlamentar_id' que o formulário envia
  allowedFields: ['name', 'email', 'mensagem', 'parlamentar-nome', 'parlamentar_id']
  allowedOrigins: ['https://juliocjd.github.io', 'localhost:3000']
  
  # CORREÇÃO 2: Alterado de 'master' para 'main' para combinar com o resto do projeto
  branch: 'main'
  
  commitMessage: 'Nova contribuição de {fields.name} sobre {fields.parlamentar-nome}'
  filename: '{@timestamp}'
  format: 'yaml'
  generatedFields:
    date:
      type: date
      options:
        format: 'iso8601'
  moderation: true # IMPORTANTE: Mantém as contribuições como Pull Request para moderação
  path: '_data/contribuicoes'
  requiredFields: ['mensagem']
  transforms:
    email: md5
